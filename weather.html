<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The weather forecast</title>

    <script type="text/javascript">
    
        var getParameters = function(){
            var parameters = {};
            parameters.country = window.localStorage.getItem('country');
            parameters.city = window.localStorage.getItem('city');
            parameters.locationId = window.localStorage.getItem('locationId');
            
            window.localStorage.removeItem('country');
            window.localStorage.removeItem('city');
            window.localStorage.removeItem('locationId');
            // window.localStorage.clear();
            return parameters;
        };
        
        var mapOfParameters = getParameters();
    
        // if all needed parameters don't set user will be redirected on index.html page
        if(!validateParameters(mapOfParameters)){
            window.location='./index.html';
        }
        
        console.log('country : ', mapOfParameters.country);
        console.log('city : ', mapOfParameters.city);
        console.log('locationId : ', mapOfParameters.locationId);
        
        window.onload = function() {
            document.getElementById("country").innerHTML = mapOfParameters.country;
            document.getElementById("city").innerHTML = mapOfParameters.city;
        
            // TODO 
            // 1) some request using mapOfParameters.locationId
            // 2) handling response from request
            // 3) init all elements on view
            
        };
        
        function validateParameters(mapOfParameters){
            if(mapOfParameters.country === null || mapOfParameters.country === undefined) return false;
            if(mapOfParameters.city === null || mapOfParameters.city === undefined) return false;
            if(mapOfParameters.locationId === null || mapOfParameters.locationId === undefined) return false;
            // else
            return true;
        }
        
    </script>

</head>
<body>
    <div class="container">
        
        <div class="menu-bar">
            <span>The Weather Forecast</span>
            <span>Contacts</span>    
        </div>
        
        <div class="country-city">
            <span id="country"></span>
            <span>::</span>
            <span id="city"></span>
        </div>
    
        <div>
            
            <div class="label-div">
                <label for="temperature">Temperature</label>    
                <span id="temperature" name="temperature">15 C</span>
            </div>
            
            <div class="label-div">
                <label for="humidity">Humidity</label>
                <span id="humidity" name="humidity">75%</span>
            </div>
            
            <div class="label-div">
                <label for="label1">label1</label>
                <span id="label1" name="label1">something</span>
            </div>
            
            <div class="label-div">
                <label for="label2">label2</label>
                <span id="label2" name="label2">something</span>
            </div>
            
            <div class="label-div">
                <label for="label3">label3</label>
                <span id="label3" name="label3">something</span>
            </div>
            
            <div class="label-div">
                <label for="label4">label4</label>
                <span id="label4" name="label4">something</span>
            </div>
            
            <div class="label-div">
                <label for="label5">label5</label>
                <span id="label5" name="label5">something</span>
            </div>
            
            <div class="label-div">
                <label for="label6">label6</label>
                <span id="label6" name="label6">something</span>
            </div>
            
            <div class="label-div">
                <label for="label7">label7</label>
                <span id="label7" name="label7">something</span>
            </div>
            
            <div class="label-div">
                <label for="label8">label8</label>
                <span id="label8" name="label8">something</span>
            </div>
            
            <div class="label-div">
                <label for="label9">label9</label>
                <span id="label9" name="label9">something</span>
            </div>
            
        </div>    
        
    </div>
</body>
</html>